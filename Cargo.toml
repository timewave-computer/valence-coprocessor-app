[package]
name = "valence-coprocessor-app"
version = "0.1.0"
description = "Valence coprocessor application"
license = "MIT"
repository = "https://github.com/timewave-computer/valence-coprocessor-app"
edition = "2024"

[lib]
name = "valence_coprocessor_app"
path = "src/lib.rs"

[profile.optimized]
inherits = "release"
strip = true
lto = true
codegen-units = 1

[workspace]
members = ["core", "lib", "script", "zkvm/circuit", "zkvm/script"]
resolver = "2"

[dependencies]
valence-coprocessor-app-core = { path = "core" }
valence-coprocessor-app-lib = { path = "lib" }

[workspace.package]
authors = ["Timewave Labs"]
license = "Apache-2.0"
version = "0.1.0"

[workspace.dependencies]
anyhow = { version = "1.0.97", default-features = false }
base64 = { version = "0.22.1", default-features = false }
serde = { version = "1.0.219", default-features = false, features = [
  "alloc",
  "derive",
] }
serde_json = { version = "1.0.140", default-features = false, features = [
  "alloc",
] }
getrandom = { version = "0.2", features = ["js"] }
valence-coprocessor = { git = "https://github.com/timewave-computer/valence-coprocessor.git", tag = "v0.1.4", default-features = false }
valence-coprocessor-wasm = { git = "https://github.com/timewave-computer/valence-coprocessor.git", tag = "v0.1.4", default-features = false }

# Configure WASM-specific build options
[profile.release]
# Tell `rustc` to optimize for small code size.
opt-level = "s"
lto = true

[profile.dev.package."*"]
# Optimize all dependencies even in development
opt-level = 3

[profile.dev.build-override]
opt-level = 3
